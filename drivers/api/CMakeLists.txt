if(${CONFIG_CAPI})
        no_os_sources_ifdef(CONFIG_I2C ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_i2c.c)
        no_os_sources_ifdef(CONFIG_TIMER ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_timer.c)
        no_os_sources_ifdef(CONFIG_SPI ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_spi.c)
        no_os_sources_ifdef(CONFIG_UART ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_uart.c)
        no_os_sources_ifdef(CONFIG_DMA ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_dma.c)
        no_os_sources_ifdef(CONFIG_GPIO ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_gpio.c)
        target_sources(no-os PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/capi/capi_pinctrl.c)
else()
        no_os_sources_ifdef(CONFIG_I2C ${CMAKE_CURRENT_SOURCE_DIR}/no_os_i2c.c)
        no_os_sources_ifdef(CONFIG_SPI ${CMAKE_CURRENT_SOURCE_DIR}/no_os_spi.c)
        no_os_sources_ifdef(CONFIG_UART ${CMAKE_CURRENT_SOURCE_DIR}/no_os_uart.c)
        no_os_sources_ifdef(CONFIG_IRQ ${CMAKE_CURRENT_SOURCE_DIR}/no_os_irq.c)
        no_os_sources_ifdef(CONFIG_DMA ${CMAKE_CURRENT_SOURCE_DIR}/no_os_dma.c)
        no_os_sources_ifdef(CONFIG_GPIO ${CMAKE_CURRENT_SOURCE_DIR}/no_os_gpio.c)
endif()